br
br
br
.row
    .col-lg-6.col-lg-offset-3
        ul.breadcrumb
            li Pipelines
uib-tabset(active="active", ng-init="init()")
    uib-tab(index="0",heading="Main")
        form(name="ExternalOperationForm", role="form", id="ExternalOperationForm")
            div.form-group
                label(for="externalOperationName") Name
                input.form-control(type="text",id="externalOperationName", data-ng-model="external_operation.name")
            div.form-group
                label(for="sourceSystem") Source System
                select.form-control(id="sourceSystem",
                ng-model="external_operation.sourceSystem.frontendInfo.selected.id",
                ng-options="sys.id as sys.name  for sys in external_operation.sourceSystem.frontendInfo.options")
            div.form-group
                label(for="targetSystem") Target System
                select.form-control(id="targetSystem",
                ng-model="external_operation.targetSystem.frontendInfo.selected.id",
                ng-options="sys.id as sys.name  for sys in external_operation.targetSystem.frontendInfo.options")
            div.btn-group
                button.btn.btn-default(type="submit", ng-click="updateExternalOperation(external_operation)") APPLY
                button.btn.btn-danger(type="submit", ng-click="deleteExternalOperation(external_operation.id)", ng-disabled="!external_operation.id") DELETE
                button.btn.btn-default(type="submit", ng-click="cancel()") CANCEL
    uib-tab(index="1", heading="Converters")
        .row
           .col-lg-4
                form(role="form",name="helpForm")
                    div.form-group
                        label(for="entities") Entities
                        select.form-control(id="entities", ng-model="selected_entity",
                        ng-options="entity.name for entity in entity_types",
                        ng-change="changedEntityType(selected_entity)")
           .col-lg-4
                form(role="form",name="helpForm")
                    div.form-group
                        label(for="attributes") Attributes
                        select.form-control(id="attributes", ng-model="selected_attribute",
                        ng-options="attribute.name for attribute in attributes",
                        ng-change="addAttribute(selected_attribute)")
           .col-lg-4
                form(role="form",name="helpForm")
                    div.form-group
                        label(for="converters") Converters
                        select.form-control(id="converters", ng-model="selected_converter",
                        ng-options="converter.name for converter in converters",
                        ng-change="addConverterTriple(selected_entity, selected_attribute, selected_converter)")
           .col-lg-10(ng-if="reloaded")
                table.table(ng-table="converterAttributeTableParams", show-filter="true")
                    tr(ng-repeat="item in $data")
                        td(title="'Entity Type'", filter="{ entityName: 'text'}",sortable="'entityName'")
                            a(ng-href="attributes/{{attr.uuid}}") {{item.entityName}}
                        td(title="'Attribute Name'",filter="{ attributeName: 'text'}",sortable="'attributeName'") {{item.attributeName}}
                        td(title="'Converter Name'",filter="{ converterName: 'text'}",sortable="'converterName'") {{item.converterName}}
    uib-tab(index="2", heading="Mappings")
        p Mappings
